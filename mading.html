<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <title>Mading Teknik Informatika</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="title-card">
    <h1>Mading Teknik Informatika</h1>
    <h2>Daftar Anggota</h2>
    <ul style="list-style-type:none; padding:0; margin:0;">
      <li>Huraira Shenmue Mahanee - 5025231216</li>
      <li>Ammar Ghozy Tanumijaya - 5025231203</li>
    </ul>
  </div>

  <div class="container">
    <!-- Canvas -->
    <div>
      <canvas id="gl-canvas" width="500" height="500"></canvas>
    </div>

    <!-- Panel Kontrol -->
    <div class="controls">
      <h3>Kontrol Dasar</h3>
      <button id="toggleColor">Toggle Isi Mading (Hijau / Hitam)</button><br><br>
      <button id="toggleTexture">Toggle Texture (Checkerboard / Gambar)</button><br><br>

      <label>Scale Mading:</label>
      <input type="range" id="scaleSlider" min="0.5" max="2.0" step="0.1" value="1"><br><br>

      <label>Rotasi Mading X:</label>
      <input type="range" id="rotateX" min="-180" max="180" step="5" value="0"><br>
      <label>Rotasi Mading Y:</label>
      <input type="range" id="rotateY" min="-180" max="180" step="5" value="0"><br>
      <label>Rotasi Mading Z:</label>
      <input type="range" id="rotateZ" min="-180" max="180" step="5" value="0"><br>

      <h4>Translasi Mading</h4>
      <button id="btnLeft">Kiri</button>
      <button id="btnRight">Kanan</button>
      <button id="btnUp">Atas</button>
      <button id="btnDown">Bawah</button><br>

      <h4>Rotasi Otomatis</h4>
      <button id="btnNoRotate">Stop</button>
      <button id="btnRotateX">Auto Rotasi X</button>
      <button id="btnRotateY">Auto Rotasi Y</button>
      <button id="btnRotateZ">Auto Rotasi Z</button><br><br>

      <label>Kecepatan Rotasi:</label>
      <input type="range" id="speedSlider" min="0" max="5" step="0.1" value="0"><br><hr>

      <h4>Rotasi Poster</h4>
      <b>Poster 1</b><br>
      X: <input type="range" id="rotatePoster1X" min="-180" max="180" step="5" value="0"><br>
      Y: <input type="range" id="rotatePoster1Y" min="-180" max="180" step="5" value="0"><br>
      Z: <input type="range" id="rotatePoster1Z" min="-180" max="180" step="5" value="0"><br>

      <b>Poster 2</b><br>
      X: <input type="range" id="rotatePoster2X" min="-180" max="180" step="5" value="0"><br>
      Y: <input type="range" id="rotatePoster2Y" min="-180" max="180" step="5" value="0"><br>
      Z: <input type="range" id="rotatePoster2Z" min="-180" max="180" step="5" value="0"><br>

      <b>Poster 3</b><br>
      X: <input type="range" id="rotatePoster3X" min="-180" max="180" step="5" value="0"><br>
      Y: <input type="range" id="rotatePoster3Y" min="-180" max="180" step="5" value="0"><br>
      Z: <input type="range" id="rotatePoster3Z" min="-180" max="180" step="5" value="0"><br><br>

      <hr>
      <h4>Pengaturan Kamera & Proyeksi</h4>
      <label>Jenis Proyeksi:</label>
      <select id="projectionSelect">
        <option value="perspective" selected>Perspective</option>
        <option value="orthographic">Orthographic</option>
      </select><br><br>

      <label>eyeX:</label>
      <input type="range" id="eyeX" min="-10" max="10" step="0.1" value="0"><br>
      <label>eyeY:</label>
      <input type="range" id="eyeY" min="-10" max="10" step="0.1" value="0"><br>
      <label>eyeZ:</label>
      <input type="range" id="eyeZ" min="0.1" max="10" step="0.1" value="3"><br><br>

      <hr>
      <h4>Pengaturan Lighting</h4>
      <label>Ambient:</label>
      <input type="color" id="ambientColor" value="#333333"><br>
      <label>Diffuse:</label>
      <input type="color" id="diffuseColor" value="#ffffff"><br>
      <label>Specular:</label>
      <input type="color" id="specularColor" value="#ffffff"><br><br>

      <label>Posisi Cahaya X:</label>
      <input type="range" id="lightX" min="-10" max="10" step="0.1" value="1"><br>
      <label>Posisi Cahaya Y:</label>
      <input type="range" id="lightY" min="-10" max="10" step="0.1" value="1"><br>
      <label>Posisi Cahaya Z:</label>
      <input type="range" id="lightZ" min="-10" max="10" step="0.1" value="1"><br><br>

      <button id="resetBtn">Reset</button>
    </div>

    <!-- Foto Mading Asli -->
    <div class="photos">
      <img src="Images/MadingDariDekat.JPG" alt="Foto dekat mading">
      <img src="Images/MadingDariJauh.jpeg" alt="Foto jauh mading">
    </div>
  </div>

  <!-- ====================== -->
  <!-- Shader + Script -->
  <!-- ====================== -->

  <!-- Vertex Shader -->
  <script id="vertex-shader" type="x-shader/x-vertex">
  #version 300 es
  in vec4 aPosition;
  in vec4 aColor;
  in vec3 aNormal;
  in vec2 aTexCoord;

  out vec3 vNormal;
  out vec3 vPosition;
  out vec4 vColor;
  out vec2 vTexCoord;

  uniform mat4 uModelView;
  uniform mat4 uModelViewProjection;

  void main() {
      vColor = aColor;
      vNormal = mat3(uModelView) * aNormal;
      vPosition = (uModelView * aPosition).xyz;
      vTexCoord = aTexCoord;
      gl_Position = uModelViewProjection * aPosition;
  }
  </script>

  <!-- Fragment Shader -->
  <script id="fragment-shader" type="x-shader/x-fragment">
  #version 300 es
  precision mediump float;

  in vec3 vNormal;
  in vec3 vPosition;
  in vec4 vColor;
  in vec2 vTexCoord;

  out vec4 fColor;

  uniform vec3 uAmbientProduct;
  uniform vec3 uDiffuseProduct;
  uniform vec3 uSpecularProduct;
  uniform vec3 uLightPosition;

  uniform sampler2D uTexture;
  uniform bool uUseTexture;

  void main() {
      vec3 N = normalize(vNormal);
      vec3 L = normalize(uLightPosition - vPosition);
      vec3 V = normalize(-vPosition);
      vec3 R = reflect(-L, N);

      float Kd = max(dot(N, L), 0.0);
      float Ks = pow(max(dot(V, R), 0.0), 50.0);

      vec3 ambient = uAmbientProduct;
      vec3 diffuse = Kd * uDiffuseProduct;
      vec3 specular = Ks * uSpecularProduct;

      vec3 lighting = ambient + diffuse + specular;
      vec4 texColor = texture(uTexture, vTexCoord);
      vec4 baseColor = uUseTexture ? texColor : vColor;

      fColor = vec4(lighting, 1.0) * baseColor;
  }
  </script>

  <!-- Library dan Script -->
  <script src="initShaders.js"></script>
  <script src="MVnew.js"></script>
  <script src="mading.js"></script>
</body>
</html>